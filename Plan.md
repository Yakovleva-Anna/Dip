# План автоматизации #
## Тестирование UI ##
### Перечень используемых сценариев: ###
1. Заполнение полей формы "Оплата по карте" валидными данными по валидной карте.
   Ожидаемый результат: появление сообщения об успешной оплате.
2. Заполнение полей формы "Оплата по карте" валидными данными по невалидной карте.
   Ожидаемый результат: появление сообщения об отказе в оплате.
3. Заполнение полей формы "Оплата по карте" валидными данными по несуществующей в БД карте.
   Ожидаемый результат: появление сообщения об отказе в оплате.
4. Пустое поле "Номер карты" формы "Оплата по карте" и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: появление сообщения "Поле обязательно для заполнения".
5. Внесение в поле "Номер карты" формы "Оплата по карте" менее 16 цифр и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: появление сообщения "Неверный формат".
6. Внесение в поле "Номер карты" формы "Оплата по карте" более 16 цифр и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: в поле нельзя ввести больше 16 цифр.
7. Пустое поле "Месяц" формы "Оплата по карте" и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: появление сообщения "Поле обязательно для заполнения".
8. Внесение в поле "Месяц" формы "Оплата по карте" нулевого значения и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: появление сообщения "Неверный формат".
9. Внесение в поле "Месяц" формы "Оплата по карте" одной цифры и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: появление сообщения "Неверный формат".
10. Внесение в поле "Месяц" формы "Оплата по карте" более 2 цифр и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: в поле нельзя ввести больше 2 цифр.
11. Внесение в поле "Месяц" формы "Оплата по карте" значения больше 12 и заполнение валидными данными остальных полей формы.
   Ожидаемый результат: появление сообщения "Неверно указан срок действия карты".
12. Пустое поле "Год" формы "Оплата по карте" и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Поле обязательно для заполнения".
13. Внесение в поле "Год" формы "Оплата по карте" одной цифры и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверный формат".
14. Внесение в поле "Год" формы "Оплата по карте" более 2 цифр и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: в поле нельзя ввести больше 2 цифр.
15. Внесение в поле "Год" формы "Оплата по карте" значения (последние 2 цифры текущего года - 1) и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверно указан срок действия карты".
16. Внесение в поле "Год" формы "Оплата по карте" значения (последние 2 цифры текущего года + 6) и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверно указан срок действия карты".
17. Пустое поле "Владелец" формы "Оплата по карте" и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Поле обязательно для заполнения".
18. Внесение в поле "Владелец" формы "Оплата по карте" имени с дефисом и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения об успешной оплате.
19. Внесение в поле "Владелец" формы "Оплата по карте" 3 валидных символа и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения об успешной оплате.
20. Внесение в поле "Владелец" формы "Оплата по карте" 20 валидных символов и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения об успешной оплате.
21. Внесение в поле "Владелец" формы "Оплата по карте" кириллицы и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверный формат".
22. Внесение в поле "Владелец" формы "Оплата по карте" цифр и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверный формат".
23. Внесение в поле "Владелец" формы "Оплата по карте" спецсимволов и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверный формат".
24. Пустое поле "CVC/CVV" формы "Оплата по карте" и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Поле обязательно для заполнения".
25. Внесение в поле "CVC/CVV" формы "Оплата по карте" одной цифры и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: появление сообщения "Неверный формат".
26. Внесение в поле "CVC/CVV" формы "Оплата по карте" более 3 цифр и заполнение валидными данными остальных полей формы.
    Ожидаемый результат: в поле нельзя ввести больше 3 цифр.

**Выполнение этих же сценариев для формы "Кредит по данным карты"**


### Тестирование API ###

1. Отправка POST запроса с валидными данными и валидной картой на адрес http://localhost:8080/api/v1/pay
   **Ожидаемый результат:** ответ сервера: код 200

2. Отправка POST запроса с валидными данными и невалидной картой на адрес http://localhost:8080/api/v1/pay
   **Ожидаемый результат:** ответ сервера: код 200

3. Отправка POST запроса с валидными данными и валидной картой на адрес http://localhost:8080/api/v1/credit
   **Ожидаемый результат:** ответ сервера: код 200

4. Отправка POST запроса с валидными данными и невалидной картой на адрес http://localhost:8080/api/v1/credit
   **Ожидаемый результат:** ответ сервера: код 200

### Перечень используемых инструментов ###

1. IntelliJIDEA - IDE;
2. Java - Язык написания автотестов;
3. Gradle - система сборки;
4. Docker Compose - инструмент для запуска мультиконтейнерных приложений;
5. JUnit 5 - платформа для написания авто-тестов и их запуска;
6. Selenide - фреймворк для тестирования UI;
7. Rest Assure - фреймворк для тестирования API;
8. Allure - система репортинга;

### Перечень и описание возможных рисков при автоматизации ###

1. Трудности с нахождением необходимых для тестирования CSS - селекторов;
2. Поскольку в качестве банковского сервиса выступает заглушка, есть риск что при подключение реальной системы появятся новые не выявленные дефекты;
3. Потеря актуальности тестов UI при любом изменение в дизайне;
4. Потеря актуальности тестов API при изменение структуры запросов со стороны банка;
5. Сложности, связанные с необходимостью работы сразу с двумя БД - MySQL и PostgreSQL;
6. Нет опыта в тестировании, поэтому возможно увеличение сроков;

### Интервальная оценка с учётом рисков (в часах) ###

1. Настройка тестового окружения - 10 часов;
2. Планирование автоматизации тестирования - 20 часов;
3. Написание и отладка тестов - 40 часов;
4. Выполнение тестов и заведение отчетов об ошибках - 10 часов;
5. Отчетные документы по итогам автоматизированного тестирования - 10 часов;
6. Отчетные документы по итогам автоматизации - 10 часов;

**Итого: 100 часов**

### План сдачи работ ###

1. Написание автотестов - 2.11;
2. Результаты прогона - 5.11;
3. Отчет по итогам автоматизации - 8.11;
